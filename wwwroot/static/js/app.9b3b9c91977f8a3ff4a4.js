webpackJsonp([1],{"8GuE":function(t,e){},AVmC:function(t,e){},EwEO:function(t,e){},GnQc:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid",attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App",mounted:function(){this.$store.dispatch("authenticate")}},i,!1,function(t){a("y/DO")},null,null).exports,o=a("/ocq"),r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("form",[e("div",{staticClass:"form-group"},[e("input",{attrs:{placeholder:"Search"}}),this._v(" "),e("button",[e("span",{staticClass:"fa fa-search"})])])])])])}]};var c=a("VU/8")({name:"search",data:function(){return{}}},r,!1,function(t){a("vBlx")},"data-v-33150502",null).exports,l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"modal fade",attrs:{id:"loginModal",role:"dialog"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[t.loginForm?a("div",[a("form",{on:{submit:function(e){e.preventDefault(),t.Login(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.Email,expression:"login.Email"}],attrs:{type:"text",placeholder:"E-mail"},domProps:{value:t.login.Email},on:{input:function(e){e.target.composing||t.$set(t.login,"Email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.Password,expression:"login.Password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.login.Password},on:{input:function(e){e.target.composing||t.$set(t.login,"Password",e.target.value)}}})]),t._v(" "),t._m(1)])]):a("div",[a("form",{on:{submit:function(e){e.preventDefault(),t.Register(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.Email,expression:"register.Email"}],attrs:{type:"text",placeholder:"E-mail"},domProps:{value:t.register.Email},on:{input:function(e){e.target.composing||t.$set(t.register,"Email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.Username,expression:"register.Username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:t.register.Username},on:{input:function(e){e.target.composing||t.$set(t.register,"Username",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.Password,expression:"register.Password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.register.Password},on:{input:function(e){e.target.composing||t.$set(t.register,"Password",e.target.value)}}})]),t._v(" "),t._m(2)])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[t.loginForm?a("a",{staticClass:"col-sm-10 text-footer",on:{click:t.toggleLoginForm}},[t._v("Don't have an account? Click to Register.")]):a("a",{staticClass:"col-sm-10 text-footer",on:{click:t.toggleLoginForm}},[t._v("Already have an account? Click to Login.")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-danger col-sm-2",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("div",{staticClass:"col-sm-12"},[e("h4",[this._v("Account")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-default btn-success",attrs:{type:"submit"}},[this._v("Login")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-default btn-success",attrs:{type:"submit"}},[this._v("Register")])])}]};var u=a("VU/8")({name:"Login",data:function(){return{loginForm:!0,login:{Email:"",Password:""},register:{Email:"",Username:"",Password:""}}},methods:{toggleLoginForm:function(){this.loginForm=!this.loginForm},Login:function(){this.$store.dispatch("login",this.login),this.login={Email:"",Password:""}},Register:function(){this.$store.dispatch("register",this.register),this.register={Email:"",Username:"",Password:""}}}},l,!1,function(t){a("GnQc")},"data-v-c7e7c064",null).exports,d={name:"navbar",data:function(){return{}},components:{Login:u},computed:{user:function(){return this.$store.state.user}},methods:{Logout:function(){this.$store.dispatch("logout")}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("nav",{staticClass:"navbar navbar-default navbar-fixed-top myNavbar"},[a("div",{staticClass:"col-sm-8"},[a("router-link",{attrs:{to:"/"}},[a("h4",{staticClass:"pull-left icon"},[t._v("Keepr")])])],1),t._v(" "),t.user.id?a("div",{staticClass:"col-sm-4"},[t._m(0),t._v(" "),a("router-link",{attrs:{to:"/dashboard"}},[a("h4",[t._v("Welcome, "+t._s(t.user.username))])]),t._v(" "),a("button",{staticClass:"btn btn-lg",on:{click:t.Logout}},[t._v("Logout")])],1):a("div",{staticClass:"col-sm-4 login"},[a("button",{staticClass:"btn btn-lg",attrs:{type:"button","data-toggle":"modal","data-target":"#loginModal"}},[t._v("Login / Register")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn",attrs:{type:"button","data-toggle":"modal","data-target":"#createModal"}},[e("span",{staticClass:"glyphicon glyphicon-plus"})])}]};var m=a("VU/8")(d,v,!1,function(t){a("q0gQ")},"data-v-5e63fa8e",null).exports,p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[t._l(t.keeps,function(e){return a("div",{staticStyle:{color:"black"}},[a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"panel panel-info"},[a("div",{staticClass:"panel-heading"},[e.userId==t.user.id?a("div",{staticClass:"pull-right"},[a("button",{on:{click:function(a){t.deleteKeep(e.id)}}},[a("i",{staticClass:"fa fa-trash"})])]):t._e(),t._v(" "),a("h1",[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("img",{attrs:{src:e.image}}),t._v(" "),a("h5",[t._v(t._s(e.description))])]),t._v(" "),a("div",{staticClass:"panel-footer",on:{mouseover:function(e){t.show.button=!0},mouseleave:function(e){t.show.button=!1}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show.button,expression:"show.button"}]},[a("button",{staticClass:"btn btn-info"},[t._v("Share")]),t._v(" "),a("button",{staticClass:"btn btn-info",attrs:{"data-toggle":"modal","data-target":"#vaultKeepModal"},on:{click:function(a){t.addActiveKeep(e.id)}}},[t._v("Keep")]),t._v(" "),a("button",{staticClass:"btn btn-info"},[t._v("View")])]),t._v(" "),a("h5",[t._v("Tags:\n                        "),a("a",[t._v(t._s(e.tags))])])])])])])}),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"vaultKeepModal",role:"dialog"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){e.preventDefault(),t.addKeepToVault(e)}}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"dropdown-style",attrs:{title:"choose category"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.tempVault.vaultId,expression:"tempVault.vaultId"}],staticClass:"form-control text-center",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.tempVault,"vaultId",e.target.multiple?a:a[0])}}},[a("option",{staticClass:"col-sm-12",attrs:{selected:"",disabled:""}},[t._v("Select Vault")]),t._v(" "),t._l(t.vaults,function(e){return a("option",{staticClass:"col-sm-12",domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)])]),t._v(" "),t._m(1)])]),t._v(" "),t._m(2)])])])],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("div",{staticClass:"col-sm-12"},[e("h4",[this._v("Add Keep To Vault")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",[this._v("Keep")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-default btn-danger col-sm-12",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])}]};var h=a("VU/8")({name:"Keep",data:function(){return{tempVault:{vaultId:""},show:{button:!0}}},methods:{deleteKeep:function(t){this.$store.dispatch("deleteKeep",t)},addKeepToVault:function(){var t={UserId:this.user.id,KeepId:this.activeKeep.id,VaultId:this.tempVault.vaultId};this.incrementKeepCount(t),this.$store.dispatch("addKeepToVault",t),this.tempVault={id:""}},incrementKeepCount:function(t){},addActiveKeep:function(t){this.$store.dispatch("getActiveKeep",t)}},mounted:function(){this.$store.dispatch("getKeeps")},computed:{keeps:function(){return this.$store.state.keeps},user:function(){return this.$store.state.user},vaults:function(){return this.$store.state.vaults},activeKeep:function(){return this.$store.state.activeKeep}}},p,!1,function(t){a("EwEO")},"data-v-5843f53c",null).exports,f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"modal fade",attrs:{id:"createModal",role:"dialog"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Ã—")]),t._v(" "),t.createForm?a("a",{on:{click:t.toggleForm}},[t._v("Create Keep")]):a("a",{on:{click:t.toggleForm}},[t._v("Create Vault")])]),t._v(" "),a("div",{staticClass:"modal-body"},[t.createForm?a("div",[a("form",{on:{submit:function(e){e.preventDefault(),t.addVault(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"vault"}},[t._v("Vault")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vault.Name,expression:"vault.Name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:t.vault.Name},on:{input:function(e){e.target.composing||t.$set(t.vault,"Name",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vault.Description,expression:"vault.Description"}],attrs:{type:"text",placeholder:"Description"},domProps:{value:t.vault.Description},on:{input:function(e){e.target.composing||t.$set(t.vault,"Description",e.target.value)}}})]),t._v(" "),a("div"),t._v(" "),t._m(0)])]):a("div",[a("form",{on:{submit:function(e){e.preventDefault(),t.addKeep(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"keep"}},[t._v("Keep")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keep.Name,expression:"keep.Name"}],attrs:{type:"text",placeholder:"Title"},domProps:{value:t.keep.Name},on:{input:function(e){e.target.composing||t.$set(t.keep,"Name",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keep.Image,expression:"keep.Image"}],attrs:{type:"text",placeholder:"Image URL"},domProps:{value:t.keep.Image},on:{input:function(e){e.target.composing||t.$set(t.keep,"Image",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keep.Description,expression:"keep.Description"}],attrs:{type:"text",placeholder:"Description"},domProps:{value:t.keep.Description},on:{input:function(e){e.target.composing||t.$set(t.keep,"Description",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keep.Tags,expression:"keep.Tags"}],attrs:{type:"text",placeholder:"Tags"},domProps:{value:t.keep.Tags},on:{input:function(e){e.target.composing||t.$set(t.keep,"Tags",e.target.value)}}})]),t._v(" "),t._m(1)])])]),t._v(" "),t._m(2)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{attrs:{type:"submit"}},[this._v("Create")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{attrs:{type:"submit"}},[this._v("Submit")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-default btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])}]};var g=a("VU/8")({name:"Create",data:function(){return{createForm:!0,vault:{Name:"",Description:""},keep:{Name:"",Image:"",Description:"",UserId:"",Tags:""}}},computed:{user:function(){return this.$store.state.user}},methods:{toggleForm:function(){this.createForm=!this.createForm},toggleLoginForm:function(){this.loginForm=!this.loginForm},addVault:function(){var t={userId:this.user.id,name:this.vault.Name,description:this.vault.Description};this.$store.dispatch("createVault",t),this.vault={Name:"",Description:""}},addKeep:function(){var t={UserId:this.user.id,Name:this.keep.Name,Image:this.keep.Image,Description:this.keep.Description,Tags:this.keep.Tags};this.$store.dispatch("createKeep",t),this.keep={Name:"",Image:"",Description:"",UserId:"",Tags:""}}}},f,!1,function(t){a("AVmC")},"data-v-7e8e2a7e",null).exports,_={name:"Home",data:function(){return{msg:"Welcome to Keepr"}},computed:{},components:{Login:u,Navbar:m,Search:c,Keep:h,Create:g},mounted:function(){this.$store.dispatch("getKeeps")},methods:{}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("navbar"),t._v(" "),a("search"),t._v(" "),a("create"),t._v(" "),a("login"),t._v(" "),a("keep")],1)},staticRenderFns:[]};var b=a("VU/8")(_,C,!1,function(t){a("8GuE")},"data-v-74d7ca02",null).exports,w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.vaults,function(e){return a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"panel panel-info"},[a("div",{staticClass:"panel-heading"},[a("button",{staticClass:"pull-right",on:{click:function(a){t.deleteVault(e.id)}}},[a("i",{staticClass:"fa fa-trash"})]),t._v(" "),a("a",{on:{click:function(a){t.getActiveVault(e.id)}}},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("h5",[t._v(t._s(e.description))])])])])}))},staticRenderFns:[]};var V={name:"Dashboard",data:function(){return{vault:{show:!0}}},methods:{viewToggle:function(){this.vault.show=!this.vault.show}},computed:{user:function(){return this.$store.state.user}},components:{Navbar:m,Vault:a("VU/8")({name:"Vault",data:function(){return{}},methods:{deleteVault:function(t){var e={userId:this.user.id,id:t};this.$store.dispatch("deleteVault",e)},getActiveVault:function(t){this.$store.dispatch("getActiveVault",t)}},computed:{user:function(){return this.$store.state.user},vaults:function(){return this.$store.state.vaults}},mounted:function(){this.$store.dispatch("getVaultsById",this.user.id)}},w,!1,function(t){a("ykku")},"data-v-51a978af",null).exports,Create:g,Keep:h}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("navbar"),t._v(" "),a("create"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[t._m(0),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("h2",[t._v("Your Dashboard")]),t._v(" "),t.vault.show?a("button",{on:{click:t.viewToggle}},[t._v("View Keeps")]):a("button",{on:{click:t.viewToggle}},[t._v("View Vaults")])])])]),t._v(" "),t.vault.show?a("div",{staticClass:"panel-body"},[a("vault")],1):a("div",{staticClass:"panel-body"},[a("keep")],1)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("h3",[this._v("Welcome to the Dashboard. Here you can create, manage, and delete your Vaults and Keeps")])])}]};var E=a("VU/8")(V,k,!1,function(t){a("cj72")},"data-v-2ddcb28a",null).exports,$=a("mtWM"),y=a.n($),K=a("NYxO"),x=window.location.host.indexOf("localhost")>-1?"//localhost:5000/":"/",N=y.a.create({baseURL:x+"api/",timeout:2e3,withCredentials:!0}),I=y.a.create({baseURL:x,timeout:2e3,withCredentials:!0});s.a.use(K.a);var D=new K.a.Store({state:{error:{},user:{},activeKeep:{},activeVault:{},vaults:[],keeps:[]},mutations:{handleError:function(t,e){t.error=e},setUser:function(t,e){t.user=e},setKeeps:function(t,e){t.keeps=e},setVaults:function(t,e){e.id?t.vaults.push(e):t.vaults=e},setActiveKeep:function(t,e){t.activeKeep=e},setActiveVault:function(t,e){t.activeVault=e}},actions:{login:function(t,e){var a=t.commit,s=t.dispatch;I.post("accounts/login",e).then(function(t){a("setUser",t.data),s("getKeeps")}).catch(function(t){a("handleError",t.message)})},register:function(t,e){var a=t.commit;t.dispatch;I.post("accounts/register",e).then(function(t){a("setUser",t.data)})},authenticate:function(t){var e=t.commit,a=t.dispatch;I("accounts/authenticate").then(function(t){e("setUser",t.data),a("getVaultsById",t.data.id),F.push({name:"Dashboard"})}).catch(function(t){F.push({name:"Home"})})},logout:function(t){var e=t.commit;t.dispatch;I.delete("accounts/logout").then(function(t){e("setUser",{}),F.push({name:"Home"})})},createVault:function(t,e){var a=t.commit,s=t.dispatch;N.post("vaults",e).then(function(t){s("getVaultsById",e.userId)}).catch(function(t){a("handleError",t)})},updateVault:function(t){var e=t.commit;t.dispatch;N.put("vaults/"+payload).then(function(t){console.log(t)}).catch(function(t){e("handleError",t)})},deleteVault:function(t,e){var a=t.commit,s=t.dispatch;N.delete("vaults/"+e.id).then(function(t){s("getVaultsById",e.userId)}).catch(function(t){a("handleError",t)})},getVaults:function(t){var e=t.commit;t.dispatch;N("vaults/").then(function(t){e("setVaults",t.data)}).catch(function(t){e("handleError",t)})},getVaultsById:function(t,e){var a=t.commit;t.dispatch;N("vaults/"+e).then(function(t){console.log(t),a("setVaults",t.data)}).catch(function(t){a("handleError",t)})},getActiveVault:function(t,e){var a=t.commit;t.dispatch;N("/vaultkeeps/vaults/"+e).then(function(t){a("setActiveVault",t.data)}).catch(function(t){a("handleError",t)})},createKeep:function(t,e){var a=t.commit,s=t.dispatch;N.post("keeps",e).then(function(t){s("getKeeps")}).catch(function(t){a("handleError",t)})},updateKeep:function(t){t.commit,t.dispatch},deleteKeep:function(t,e){var a=t.commit,s=t.dispatch;N.delete("keeps/"+e).then(function(t){s("getKeeps")}).catch(function(t){a("handleError",t)})},getKeeps:function(t){var e=t.commit;t.dispatch;N("keeps").then(function(t){e("setKeeps",t.data)}).catch(function(t){e("handleError",t)})},getActiveKeep:function(t,e){var a=t.commit;t.dispatch;N("keeps/"+e).then(function(t){a("setActiveKeep",t.data)}).catch(function(t){a("handleError",t)})},getKeepsByVault:function(t){var e=t.commit;t.dispatch;N("vaults/"+payload.id+"/keeps").then(function(t){console.log(t)}).catch(function(t){e("handleError",t)})},addKeepToVault:function(t,e){var a=t.commit;t.dispatch;N.post("/vaultkeeps/vaults/"+e.VaultId+"/keeps",e).then(function(t){console.log(t)}).catch(function(t){a("handleError",t)})}}});s.a.use(o.a);var U=new o.a({routes:[{path:"/",name:"Home",component:b},{path:"/dashboard",name:"Dashboard",component:E,meta:{requiresAuth:!0}},{path:"*",redirect:"/"}]});U.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.requiresAuth})?D.state.user.id&&(t.fullPath,a()):(t.path,a())});var F=U;y.a.create({baseURL:window.location.host.includes("localhost")?"//localhost:5000/":"/",timeout:2e3,withCredentials:!0});s.a.config.productionTip=!1,new s.a({el:"#app",router:F,store:D,components:{App:n},template:"<App/>"})},cj72:function(t,e){},q0gQ:function(t,e){},vBlx:function(t,e){},"y/DO":function(t,e){},ykku:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9b3b9c91977f8a3ff4a4.js.map